<section class="workout-peak" (click)="openPanel()">
  {{ workout?.title || 'Unnamed Workout' }}
</section>

<section class="workout-body">
  <nav>
    <button (click)="closePanel()">
      <img src="icons/chevron-down.svg" />
    </button>
    <button class="finish" (click)="finishWorkout()">FINISH</button>
  </nav>

  <div *ngIf="workout" class="content-max-width">
    <input placeholder="Workout Name" (input)="sync()" type="text" [(ngModel)]="workout.title" />

    <article class="exercise" *ngFor="let exercise of workout?.exercises || []; let i = index">
      <div class="exercise-name">
        <button class="btn red cancel" (click)="removeExercise(i)">X</button>
        <button class="btn input" [routerLink]="'/exercise-picker/' + i">
          {{ exercise.name }}
        </button>
      </div>
      <div class="set heading">
        <div></div>
        <div>SET</div>
        <div>(+KG)</div>
        <div>REPS</div>
        <div></div>
      </div>
      <div class="set" *ngFor="let set of exercise.sets; let i2 = index">
        <button class="remove-set" (click)="removeSet(i, i2)">X</button>
        <div class="set-num">{{ i2 + 1 }}</div>
        <input (input)="sync()" type="number" placeholder="0" [(ngModel)]="set.weight" />
        <input (input)="sync()" type="number" placeholder="0" [(ngModel)]="set.reps" />
        <input (input)="sync()" type="checkbox" [(ngModel)]="set.done" />
      </div>
      <button class="add-set" (click)="addSet(i)">ADD SET</button>
    </article>

    <button class="add-exercise" [routerLink]="'/exercise-picker/' + null">ADD EXERCISE</button>

    <button class="cancel-workout" (click)="cancelWorkout()">CANCEL WORKOUT</button>
  </div>
</section>
